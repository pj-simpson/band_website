(this.webpackJsonpmusic_client=this.webpackJsonpmusic_client||[]).push([[0],{192:function(e,t,a){e.exports=a(370)},197:function(e,t,a){},257:function(e,t){},259:function(e,t){},370:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(47),c=a.n(l),o=(a(197),a(7)),m=a.n(o),i=a(4),s=a(16),u=a(372),d=a(373),p=a(374),E=function(){var e=JSON.parse(window.localStorage.getItem("jwt-auth"));if(e)return e};var f=function(){var e=Object(n.useState)(!0),t=Object(i.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)({}),o=Object(i.a)(c,2),s=o[0],E=o[1],f=Object(n.useState)(!1),b=Object(i.a)(f,2),g=b[0],h=b[1];return Object(n.useEffect)((function(){m.a.get("latesthomeimage/").then((function(e){E(e.data),l(!1),h(!1)}))}),[a,g]),r.a.createElement("div",null,a?r.a.createElement(u.a,{animation:"grow",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")):r.a.createElement("div",null,r.a.createElement(d.a,{xs:"auto",md:{offset:4}},r.a.createElement(p.a,{className:"home-image",middle:!0,object:!0,src:s.image}))))},b=a(12),g=a(78),h=a(79),v=a(83),y=a(82),j=a(378),O=a(379),k=a(380),S=a(381),N=a(382),w=a(383),C=a(384),_=a(181),L=a(180),x=a(80),D=a.n(x),I=a(398),B=a(376),P=a(377),T=a(40),z=a(375),F=a(18);var A=function(e){var t=e.item,a=e.updater,l=e.toggle,c=Object(F.a)(),o=c.register,s=c.handleSubmit,u=Object(n.useState)(!1),d=Object(i.a)(u,2),p=d[0],f=d[1],b=Object(n.useState)(""),g=Object(i.a)(b,2),h=g[0],v=g[1];return r.a.createElement("div",null,p&&r.a.createElement(z.a,{color:"danger"},"Error!",h),r.a.createElement("form",{onSubmit:s((function(e,n){n.preventDefault();var r=new FormData,c=t.id;""!==e.headline&&r.append("headline",e.headline),""!==e.body&&r.append("body",e.body),""!==e.link&&r.append("link",e.link),""!==e.linktitle&&r.append("link_title",e.linktitle),e.image[0]&&r.append("image",e.image[0]);var o,i=0,s=Object(T.a)(r.entries());try{for(s.s();!(o=s.n()).done;){o.value;i+=1}}catch(u){s.e(u)}finally{s.f()}i<6?m.a.patch("news/".concat(c,"/"),r,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+E()}}).then((function(e){l(),a(n)})).catch((function(e){e.response&&v(e.response.statusText),f(!0)})):m.a.put("news/".concat(c,"/"),r,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+E()}}).then((function(e){l(),a()}))}))},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Headline:"),r.a.createElement("input",{type:"text",ref:o,name:"headline",className:"form-control",placeholder:t.headline})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"body"},"Body:"),r.a.createElement("textarea",{ref:o,name:"body",className:"form-control",placeholder:t.body})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Link:"),r.a.createElement("input",{type:"url",ref:o,name:"link",className:"form-control",placeholder:t.link})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Link title:"),r.a.createElement("input",{type:"text",ref:o,name:"linktitle",className:"form-control",placeholder:t.link_title})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Image:"),r.a.createElement("input",{type:"file",ref:o,name:"image",className:"form-control-file"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Project:"),r.a.createElement("select",{ref:o,name:"project",className:"form-control"},r.a.createElement("option",{value:"1"},"ELS"))),r.a.createElement(_.a,{color:"primary",type:"submit"},"Submit")," ",r.a.createElement(_.a,{color:"secondary",onClick:l},"Cancel")))};var M=function(e){var t=e.item,a=e.handleUpdate,l=(e.isUpdating,Object(n.useState)(!1)),c=Object(i.a)(l,2),o=c[0],m=c[1],s=function(){return m(!o)};return r.a.createElement("div",null,r.a.createElement(_.a,{color:"info",className:"item-button",onClick:s},"Edit"),r.a.createElement(I.a,{isOpen:o,toggle:s},r.a.createElement(B.a,{toggle:s},"Edit ",t.headline),r.a.createElement(P.a,null,r.a.createElement(A,{item:t,toggle:s,updater:a}))))},R=function(e){Object(v.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(g.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={items:[],isLoading:!0,cursor:1,isUpdating:!1},e.loadMore=function(){e.setState({isLoading:!0,error:void 0}),m.a.get("news/?ordering=-created_date&page=".concat(e.state.cursor)).then((function(t){t.data.next?e.setState((function(e){return{items:[].concat(Object(b.a)(e.items),Object(b.a)(t.data.results)),cursor:parseInt(t.data.next.charAt(t.data.next.length-1)),isLoading:!1}})):e.setState((function(e){return{items:[].concat(Object(b.a)(e.items),Object(b.a)(t.data.results)),cursor:null,isLoading:!1}}))}),(function(t){e.setState({isLoading:!1,error:t})}))},e.listRemover=function(t){var a=e.state.items.filter((function(e){return e.id!==t}));e.setState({items:a})},e.onDelete=function(t){var a={headers:{Authorization:"Bearer "+E()}},n=t.id;m.a.delete("news/".concat(n,"/"),a).then((function(e){})),e.listRemover(n)},e.updater=function(){console.log("this fires")},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.loadMore()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(d.a,{xs:"4",md:{offset:4},className:"justify-content-around"},r.a.createElement(L.InfiniteScroll,{throttle:100,threshold:300,isLoading:this.state.isLoading,hasMore:!!this.state.cursor,onLoadMore:this.loadMore},this.state.items.length>0?this.state.items.map((function(t){return r.a.createElement("div",{className:"news-card justify-content-around",key:t.id},r.a.createElement(D.a,{format:"DD/MM/YYYY"},t.created_date),r.a.createElement(j.a,{className:"news-card",body:!0,inverse:!0,style:{backgroundColor:"black"}},r.a.createElement(O.a,{className:"news-image",src:t.image}),r.a.createElement(k.a,null,r.a.createElement(S.a,{style:{backgroundColor:"black"}},r.a.createElement("h2",null,t.headline)),r.a.createElement(N.a,null,r.a.createElement("a",{href:t.link},t.link_title)),r.a.createElement(w.a,null,r.a.createElement("p",{className:"press-release"},t.body))),e.props.isLoggedIn&&r.a.createElement(C.a,{style:{backgroundColor:"black"}},r.a.createElement("div",{className:"edit-buttons"},r.a.createElement(M,{item:t,handleUpdate:e.updater,isUpdating:e.state.isUpdating}),r.a.createElement(_.a,{color:"danger",className:"item-button",onClick:function(){return e.onDelete(t)}},"Delete")))))})):null),this.state.isLoading&&r.a.createElement(u.a,{animation:"grow",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))))}}]),a}(r.a.Component),U=a(386),Y=a(387),H=a(385);var K=function(e){var t=e.item,a=e.toggle,l=e.updater,c=Object(F.a)(),o=c.register,s=c.handleSubmit,u=Object(n.useState)(!1),d=Object(i.a)(u,2),p=d[0],f=d[1],b=Object(n.useState)(""),g=Object(i.a)(b,2),h=g[0],v=g[1];return r.a.createElement("div",null,p&&r.a.createElement(z.a,{color:"danger"},"Error!",h),r.a.createElement("form",{onSubmit:s((function(e,n){n.preventDefault();var r=new FormData,c=t.id,o=e.format.toString().split(",");""!==e.title&&r.append("title",e.title),""!==e.label&&r.append("label",e.label),""!==o[0]&&r.append("format[]",o),""!==e.bandcamp_link&&r.append("bandcamp_link",e.bandcamp_link),""!==e.soundcloud_link&&r.append("soundcloud_link",e.soundcloud_link),""!==e.spotify_link&&r.append("spotify_link",e.spotify_link),""!==e.buy_link&&r.append("buy_link",e.buy_link),""!==e.press_release&&r.append("press_release",e.press_release),""!==e.recorded&&r.append("recorded",e.recorded),""!==e.mastered&&r.append("mastered",e.mastered),""!==e.design&&r.append("design",e.design),e.image[0]&&r.append("image",e.image[0]),r.append("project",e.project);var i,s=0,u=Object(T.a)(r.entries());try{for(u.s();!(i=u.n()).done;){i.value;s+=1}}catch(d){u.e(d)}finally{u.f()}s<13?m.a.patch("releases/".concat(c,"/"),r,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+E()}}).then((function(e){a(),l()})).catch((function(e){e.response&&v(e.response.statusText),f(!0)})):m.a.put("releases/".concat(c,"/"),r,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+E()}}).then((function(e){a(),l()}))}))},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Title:"),r.a.createElement("input",{type:"text",ref:o,name:"title",className:"form-control",placeholder:t.title})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Label:"),r.a.createElement("input",{type:"text",ref:o,name:"label",className:"form-control",placeholder:t.label})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Format:"),r.a.createElement("select",{multiple:!0,ref:o,name:"format",className:"form-control"},r.a.createElement("option",{value:"DL"},"DL"),r.a.createElement("option",{value:"LP"},"LP"),r.a.createElement("option",{value:"CS"},"CS"),r.a.createElement("option",{value:"CD"},"CD"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Bandcamp:"),r.a.createElement("input",{type:"url",ref:o,name:"bandcamp_link",className:"form-control",placeholder:t.bandcamp_link})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Soundcloud:"),r.a.createElement("input",{type:"url",ref:o,name:"soundcloud_link",className:"form-control",placeholder:t.soundcloud_link})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Spotify:"),r.a.createElement("input",{type:"url",ref:o,name:"spotify_link",className:"form-control",placeholder:t.spotify_link})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Buy Physical:"),r.a.createElement("input",{type:"url",ref:o,name:"buy_link",className:"form-control",placeholder:t.buy_link})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Press Release:"),r.a.createElement("textarea",{ref:o,name:"press_release",className:"form-control",placeholder:t.press_release})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Project:"),r.a.createElement("select",{ref:o,name:"project",className:"form-control"},r.a.createElement("option",{value:"1"},"ELS"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Recorded by:"),r.a.createElement("input",{type:"text",ref:o,name:"recorded",className:"form-control",placeholder:t.recorded})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Mastered By:"),r.a.createElement("input",{type:"text",ref:o,name:"mastered",className:"form-control",placeholder:t.mastered})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Design By:"),r.a.createElement("input",{type:"text",ref:o,name:"design",className:"form-control",placeholder:t.design})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Image:"),r.a.createElement("input",{type:"file",ref:o,name:"image",className:"form-control-file"})),r.a.createElement(_.a,{color:"primary",type:"submit"},"Submit")," ",r.a.createElement(_.a,{color:"secondary",onClick:a},"Cancel")))};var J=function(e){var t=e.item,a=e.updater,l=Object(F.a)(),c=(l.register,l.handleSubmit,Object(n.useState)(!1)),o=Object(i.a)(c,2),m=o[0],s=o[1],u=function(){return s(!m)};return r.a.createElement("div",null,r.a.createElement(_.a,{color:"info",className:"item-button",onClick:u},"Edit"),r.a.createElement(I.a,{isOpen:m,toggle:u},r.a.createElement(B.a,{toggle:u},"Edit ",t.title),r.a.createElement(P.a,null,r.a.createElement(K,{item:t,toggle:u,updater:a})),r.a.createElement(H.a,null)))},W=a(63);var X=function(e){var t=e.isLoggedIn,a=Object(n.useState)(!0),l=Object(i.a)(a,2),c=l[0],o=l[1],s=Object(n.useState)({}),p=Object(i.a)(s,2),f=p[0],g=p[1],h=Object(n.useState)(!1),v=Object(i.a)(h,2),y=v[0],k=v[1],S=Object(n.useState)({}),N=Object(i.a)(S,2),L=N[0],x=N[1],I=function(){k(!y)};function B(e){var t={headers:{Authorization:"Bearer "+E()}},a=e.id;m.a.delete("releases/".concat(a,"/"),t).then((function(e){console.log("sucess?")})),function(e){var t=f.filter((function(t){return t.id!==e}));g(t)}(a)}return Object(n.useEffect)((function(){m.a.get("releases/?ordering=-release_date").then((function(e){g(e.data),o(!1),k(!1)})),x(function(e,t){var a=1;return Object.keys(e).forEach((function(e,n){t[a]=t[a]?Object(b.a)(t[a]):[],n%3===0&&0!==n?(a++,t[a]=t[a]?Object(b.a)(t[a]):[],t[a].push(e)):t[a].push(e)})),t}(f,L))}),[c,y]),r.a.createElement("div",null,c?r.a.createElement(u.a,{animation:"grow",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")):Object.keys(L).map((function(e){return r.a.createElement(U.a,{sm:"4",className:"justify-content-around",key:e},console.log(f.filter((function(t,a){console.log(L[e].includes(a.toString()))}))),f.filter((function(t,a){return L[e].includes(a.toString())})).map((function(e){return r.a.createElement(d.a,null,r.a.createElement("div",{className:"news-card",key:e.id},r.a.createElement(j.a,{className:"news-card",body:!0,inverse:!0,style:{backgroundColor:"black",borderColor:"#333"}},r.a.createElement(Y.a,{style:{backgroundColor:"black"}},r.a.createElement("h2",null,e.title)),r.a.createElement(O.a,{className:"news-image",src:e.image}),r.a.createElement(w.a,null,r.a.createElement("div",{class:"link-icons"},e.bandcamp_link&&r.a.createElement("a",{href:e.bandcamp_link},r.a.createElement(W.a,null)),e.soundcloud_link&&r.a.createElement("a",{href:e.soundcloud_link},r.a.createElement(W.c,null)),e.spotify_link&&r.a.createElement("a",{href:e.spotify_link},r.a.createElement(W.d,null)),e.buy_link&&r.a.createElement("a",{href:e.buy_link},r.a.createElement(W.b,null))),r.a.createElement("p",null,r.a.createElement("ul",null,r.a.createElement("li",null,"Release Date: ",r.a.createElement(D.a,{format:"DD/MM/YYYY"},e.release_date&&e.release_date)),r.a.createElement("li",null,"Mastered By: ",e.mastered&&e.mastered),r.a.createElement("li",null,"Recorded By: ",e.recorded&&e.recorded),r.a.createElement("li",null,"Design By: ",e.design&&e.design),r.a.createElement("li",null,"Label: ",e.label&&e.label),r.a.createElement("li",null,"Formats: ",e.format&&e.format))),r.a.createElement("p",{class:"press-release"},e.press_release)),t&&r.a.createElement(C.a,{style:{backgroundColor:"black"}},r.a.createElement("div",{className:"edit-buttons"},r.a.createElement(J,{item:e,updater:I}),r.a.createElement(_.a,{color:"danger",className:"item-button",onClick:function(){return B(e)}},"Delete"))))))})))})))},$=a(388);a(85);var q=function(e){var t=e.isLoggedIn,a=Object(n.useState)(!0),l=Object(i.a)(a,2),c=l[0],o=l[1],s=Object(n.useState)({}),p=Object(i.a)(s,2),f=p[0],b=p[1],g=Object(n.useState)(!1),h=Object(i.a)(g,2),v=h[0],y=h[1];function j(e){var t={headers:{Authorization:"Bearer "+E()}},a=e.id;m.a.delete("connections/".concat(a,"/"),t).then(function(e){var t=f.filter((function(t){return t.id!==e}));b(t)}(a))}return Object(n.useEffect)((function(){m.a.get("connections/").then((function(e){b(e.data),o(!1),y(!1)}))}),[c,v]),r.a.createElement("div",null,c?r.a.createElement(u.a,{animation:"grow",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")):r.a.createElement(U.a,{sm:"4",className:"justify-content-around connect-table-row"},r.a.createElement(d.a,null,r.a.createElement($.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Platform"))),r.a.createElement("tbody",null,f.filter((function(e){return"Platform"==e.category})).map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,r.a.createElement("a",{href:e.link},e.link_title)),t&&r.a.createElement(_.a,{color:"danger",className:"item-button",onClick:function(){return j(e)},size:"sm"},"x"))}))))),r.a.createElement(d.a,null,r.a.createElement($.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Mixes"))),r.a.createElement("tbody",null,f.filter((function(e){return"Mix"==e.category})).map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,r.a.createElement("a",{href:e.link},e.link_title)),t&&r.a.createElement(_.a,{color:"danger",className:"item-button",onClick:function(){return j(e)},size:"sm"},"x"))}))))),r.a.createElement(d.a,null,r.a.createElement($.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Press"))),r.a.createElement("tbody",null,f.filter((function(e){return"Press"==e.category})).map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,r.a.createElement("a",{href:e.link},e.link_title)),t&&r.a.createElement(_.a,{color:"danger",className:"item-button",onClick:function(){return j(e)},size:"sm"},"x"))}))))),r.a.createElement(d.a,null,r.a.createElement($.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Project"))),r.a.createElement("tbody",null,f.filter((function(e){return"Project"==e.category})).map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,r.a.createElement("a",{href:e.link},e.link_title),t&&r.a.createElement(_.a,{color:"danger",className:"item-button",onClick:function(){return j(e)},size:"sm"},"x")))})))))))};var G=function(){return r.a.createElement("h2",null,"Page not found")},Q=a(19),V=a(389),Z=a(390),ee=a(391),te=a(392),ae=a(393),ne=a(394),re=a(395);var le=function(e){var t=e.loggerOuter,a=e.isLoggedIn,l=Object(n.useState)(!1),c=Object(i.a)(l,2),o=c[0],m=c[1];return r.a.createElement(n.Fragment,null,r.a.createElement(V.a,{color:"dark",dark:!0,expand:"md"},r.a.createElement(Z.a,{href:"/"},"ELS")," ",r.a.createElement(ee.a,{onClick:function(){return m(!o)}}),r.a.createElement(te.a,{isOpen:o,navbar:!0},r.a.createElement(ae.a,{className:"mr-auto",navbar:!0},r.a.createElement(ne.a,null,r.a.createElement(re.a,{to:"/",activeClassName:"active",exact:!0,tag:Q.b},"Home")),r.a.createElement(ne.a,null,r.a.createElement(re.a,{to:"/news",activeClassName:"active",tag:Q.b},"News"))," ",r.a.createElement(ne.a,null,r.a.createElement(re.a,{to:"/discog",activeClassName:"active",tag:Q.b},"Discography")),r.a.createElement(ne.a,null,r.a.createElement(re.a,{to:"/biog",activeClassName:"active",tag:Q.b},"Biog")),r.a.createElement(ne.a,null,r.a.createElement(re.a,{to:"/images",activeClassName:"active",tag:Q.b},"Images")),r.a.createElement(ne.a,null,r.a.createElement(re.a,{to:"/connect",activeClassName:"active",tag:Q.b},"Connect"))),a&&r.a.createElement(_.a,{color:"primary",onClick:function(){return t()},className:"logout-button"},"Log out"))))};var ce=function(){var e=Object(F.a)(),t=e.register,a=e.handleSubmit,l=Object(n.useState)(!1),c=Object(i.a)(l,2),o=c[0],u=c[1],p=Object(n.useState)(!1),f=Object(i.a)(p,2),b=f[0],g=f[1],h=Object(n.useState)(""),v=Object(i.a)(h,2),y=v[0],j=v[1];return o?r.a.createElement(s.a,{push:!0,to:{pathname:"/news"}}):r.a.createElement(n.Fragment,null,r.a.createElement(d.a,{sm:"7",md:{size:6,offset:3}},b&&r.a.createElement(z.a,{color:"danger"},"Error!",y),r.a.createElement("form",{onSubmit:a((function(e,t){t.preventDefault();var a=new FormData;a.append("image",e.image[0]),a.append("headline",e.headline),a.append("body",e.body),a.append("link",e.link),a.append("link_title",e.linktitle),m.a.post("news/",a,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+E()}}).then(u(!0)).catch((function(e){e.response&&j(e.response.statusText),g(!0)}))}))},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Headline:"),r.a.createElement("input",{type:"text",ref:t,name:"headline",class:"form-control"})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"body"},"Body:"),r.a.createElement("textarea",{ref:t,name:"body",class:"form-control"})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Link:"),r.a.createElement("input",{type:"url",ref:t,name:"link",class:"form-control"})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Link title:"),r.a.createElement("input",{type:"text",ref:t,name:"linktitle",class:"form-control"})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Image:"),r.a.createElement("input",{type:"file",ref:t,name:"image",class:"form-control-file"})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Project:"),r.a.createElement("select",{ref:t,name:"project",class:"form-control"},r.a.createElement("option",{value:"1"},"ELS"))),r.a.createElement(_.a,{color:"primary",type:"submit"},"Submit"))))};var oe=function(){var e=Object(F.a)(),t=e.register,a=e.handleSubmit,l=Object(n.useState)(!1),c=Object(i.a)(l,2),o=c[0],u=c[1],p=Object(n.useState)(""),f=Object(i.a)(p,2),b=f[0],g=f[1],h=Object(n.useState)(!1),v=Object(i.a)(h,2),y=v[0],j=v[1];return y?r.a.createElement(s.a,{push:!0,to:{pathname:"/discog"}}):r.a.createElement(n.Fragment,null,r.a.createElement(d.a,{sm:"7",md:{size:6,offset:3}},o&&r.a.createElement(z.a,{color:"danger"},"Error!",b),r.a.createElement("form",{onSubmit:a((function(e,t){t.preventDefault();var a=new FormData;a.append("title",e.title),a.append("label",e.label),a.append("format",e.format),a.append("bandcamp_link",e.bandcamp_link),a.append("soundcloud_link",e.soundcloud_link),a.append("spotify_link",e.spotify_link),a.append("buy_link",e.buy_link),a.append("press_release",e.press_release),a.append("project",e.project),a.append("recorded",e.recorded),a.append("mastered",e.mastered),a.append("design",e.design),a.append("image",e.image[0]),m.a.post("releases/",a,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+E()}}).then(j(!0)).catch((function(e){e.response&&g(e.response.statusText),u(!0)}))}))},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Title:"),r.a.createElement("input",{type:"text",ref:t,name:"title",class:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Label:"),r.a.createElement("input",{type:"text",ref:t,name:"label",class:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Format:"),r.a.createElement("select",{multiple:!0,ref:t,name:"format",class:"form-control"},r.a.createElement("option",{value:"DL"},"DL"),r.a.createElement("option",{value:"LP"},"LP"),r.a.createElement("option",{value:"CS"},"CS"),r.a.createElement("option",{value:"CD"},"CD"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Bandcamp:"),r.a.createElement("input",{type:"url",ref:t,name:"bandcamp_link",class:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Soundcloud:"),r.a.createElement("input",{type:"url",ref:t,name:"soundcloud_link",class:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Spotify:"),r.a.createElement("input",{type:"url",ref:t,name:"spotify_link",class:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Buy Physical:"),r.a.createElement("input",{type:"url",ref:t,name:"buy_link",class:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Press Release:"),r.a.createElement("textarea",{ref:t,name:"press_release",class:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Project:"),r.a.createElement("select",{ref:t,name:"project",class:"form-control"},r.a.createElement("option",{value:"1"},"ELS"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Recorded by:"),r.a.createElement("input",{type:"text",ref:t,name:"recorded",class:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Mastered By:"),r.a.createElement("input",{type:"text",ref:t,name:"mastered",class:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Design By:"),r.a.createElement("input",{type:"text",ref:t,name:"design",class:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Image:"),r.a.createElement("input",{type:"file",ref:t,name:"image",className:"form-control-file"})),r.a.createElement(_.a,{color:"primary",type:"submit"},"Submit"))))};var me=function(e){var t=e.loggerIn,a=Object(F.a)(),l=a.register,c=a.handleSubmit,o=Object(n.useState)(!1),u=Object(i.a)(o,2),p=u[0],E=u[1],f=Object(n.useState)(!1),b=Object(i.a)(f,2),g=b[0],h=b[1],v=Object(n.useState)(""),y=Object(i.a)(v,2),j=y[0],O=y[1];return p?r.a.createElement(s.a,{push:!0,to:{pathname:"/"}}):r.a.createElement(n.Fragment,null,r.a.createElement("h2",null,"Log In"),r.a.createElement(d.a,{sm:"7",md:{size:6,offset:3}},g&&r.a.createElement(z.a,{color:"danger"},"Error!",j),r.a.createElement("form",{onSubmit:c((function(e,a){a.preventDefault(),console.log(e);var n=new FormData;n.append("username",e.username),n.append("password",e.password),m.a.post("dj-rest-auth/login/",n,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){window.localStorage.setItem("jwt-auth",JSON.stringify(e.data.access_token)),t(),E(!0)})).catch((function(e){e.response&&O(e.response.statusText),h(!0)}))}))},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"username"},"Username:"),r.a.createElement("input",{type:"text",ref:l,name:"username",class:"form-control"})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"password"},"Password:"),r.a.createElement("input",{type:"password",ref:l,name:"password",class:"form-control"})),r.a.createElement(_.a,{color:"primary",type:"submit"},"Submit"))))},ie=a(396),se=a(399),ue=a(400),de=a(397);var pe=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],l=t[1];return r.a.createElement("div",{className:"admin-nav"},r.a.createElement(ae.a,{className:"navbar navbar-expand-md navbar-light"},r.a.createElement(ne.a,null,r.a.createElement(re.a,{href:"/homepageupdate"},"Homepage Update")),r.a.createElement(ne.a,null,r.a.createElement(re.a,{href:"/releaseupdate"},"Discography Update")),r.a.createElement(ne.a,null,r.a.createElement(re.a,{href:"/newsupdate"},"News Update")),r.a.createElement(ne.a,null,r.a.createElement(re.a,{href:"/connectupdate"},"Links Update")),r.a.createElement(ie.a,{nav:!0,isOpen:a,toggle:function(){return l(!a)}},r.a.createElement(se.a,{nav:!0,caret:!0},"Image Management"),r.a.createElement(ue.a,null,r.a.createElement(de.a,null,r.a.createElement(ne.a,null,r.a.createElement(re.a,{href:"/imagesupdate"},"Images Update"))),r.a.createElement(de.a,{divider:!0}),r.a.createElement(de.a,null,r.a.createElement(ne.a,null,r.a.createElement(re.a,{href:"/imagesedit"},"Images Edit"))))),r.a.createElement(ne.a,null,r.a.createElement(re.a,{href:"/biogupdate"},"Biog Update"))))};var Ee=function(){var e=Object(F.a)(),t=e.register,a=e.handleSubmit,l=Object(n.useState)(!1),c=Object(i.a)(l,2),o=c[0],u=c[1],p=Object(n.useState)(!1),f=Object(i.a)(p,2),b=f[0],g=f[1],h=Object(n.useState)(""),v=Object(i.a)(h,2),y=v[0],j=v[1];return o?r.a.createElement(s.a,{push:!0,to:{pathname:"/connect"}}):r.a.createElement(n.Fragment,null,r.a.createElement(d.a,{sm:"7",md:{size:6,offset:3}},b&&r.a.createElement(z.a,{color:"danger"},"Error!",y),r.a.createElement("form",{onSubmit:a((function(e,t){t.preventDefault();var a=new FormData;a.append("category",e.category),a.append("link",e.link),a.append("link_title",e.linktitle),m.a.post("connections/",a,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+E()}}).then(u(!0)).catch((function(e){e.response&&j(e.response.statusText),g(!0)}))}))},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Link:"),r.a.createElement("input",{type:"url",ref:t,name:"link",class:"form-control"})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Link title:"),r.a.createElement("input",{type:"text",ref:t,name:"linktitle",class:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Category:"),r.a.createElement("select",{multiple:!0,ref:t,name:"category",className:"form-control"},r.a.createElement("option",{value:"Platform"},"Platform"),r.a.createElement("option",{value:"Mix"},"Mix"),r.a.createElement("option",{value:"Press"},"Press"),r.a.createElement("option",{value:"Project"},"Project"))),r.a.createElement(_.a,{color:"primary",type:"submit"},"Submit"))))};var fe=function(){var e=Object(F.a)(),t=e.register,a=e.handleSubmit,l=Object(n.useState)(!1),c=Object(i.a)(l,2),o=c[0],u=c[1],p=Object(n.useState)(!1),f=Object(i.a)(p,2),b=f[0],g=f[1],h=Object(n.useState)(""),v=Object(i.a)(h,2),y=v[0],j=v[1];return o?r.a.createElement(s.a,{push:!0,to:{pathname:"/"}}):r.a.createElement(n.Fragment,null,r.a.createElement(d.a,{sm:"7",md:{size:6,offset:3}},b&&r.a.createElement(z.a,{color:"danger"},"Error!",y),r.a.createElement("form",{onSubmit:a((function(e,t){t.preventDefault();var a=new FormData;a.append("image",e.image[0]),m.a.post("homeimage/",a,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+E()}}).then(u(!0)).catch((function(e){e.response&&j(e.response.statusText),g(!0)}))}))},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Image:"),r.a.createElement("input",{type:"file",ref:t,name:"image",className:"form-control-file"})),r.a.createElement(_.a,{color:"primary",type:"submit"},"Submit"))))},be=a(185);var ge=function(e){e.isLoggedIn;var t=Object(n.useState)(!0),a=Object(i.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)([]),s=Object(i.a)(o,2),d=s[0],p=s[1];return Object(n.useEffect)((function(){m.a.get("images/").then((function(e){p(e.data),c(!1)}))}),[l]),r.a.createElement("div",null,l?r.a.createElement(u.a,{animation:"grow",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")):r.a.createElement(be.a,{photos:d,direction:"column"}))};var he=function(){var e=Object(F.a)(),t=e.register,a=e.handleSubmit,l=Object(n.useState)(!1),c=Object(i.a)(l,2),o=c[0],u=c[1],p=Object(n.useState)(!1),f=Object(i.a)(p,2),b=f[0],g=f[1],h=Object(n.useState)(""),v=Object(i.a)(h,2),y=v[0],j=v[1];return o?r.a.createElement(s.a,{push:!0,to:{pathname:"/"}}):r.a.createElement(n.Fragment,null,r.a.createElement(d.a,{sm:"7",md:{size:6,offset:3}},b&&r.a.createElement(z.a,{color:"danger"},"Error!",y),r.a.createElement("form",{onSubmit:a((function(e,t){t.preventDefault();var a=new FormData;a.append("src",e.image[0]),a.append("height",e.height),a.append("width",e.width),m.a.post("images/",a,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+E()}}).then(u(!0)).catch((function(e){e.response&&j(e.response.statusText),g(!0)}))}))},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Image:"),r.a.createElement("input",{type:"file",ref:t,name:"image",className:"form-control-file"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Height:"),r.a.createElement("input",{type:"number",ref:t,name:"height",className:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Width:"),r.a.createElement("input",{type:"number",ref:t,name:"width",className:"form-control"})),r.a.createElement(_.a,{color:"primary",type:"submit"},"Submit"))))},ve=a(401),ye=a(191),je=a(187),Oe=a.n(je);function ke(e){var t=e.onChange,a=e.onInput,n=e.onBlur,l=e.onKeyPress,c=e.onKeyDown,o=Object(ye.a)(e,["onChange","onInput","onBlur","onKeyPress","onKeyDown"]),m=r.a.useRef(t),i=r.a.useRef(a),s=r.a.useRef(n),u=r.a.useRef(l),d=r.a.useRef(c);return r.a.useEffect((function(){m.current=t}),[t]),r.a.useEffect((function(){i.current=a}),[a]),r.a.useEffect((function(){s.current=n}),[n]),r.a.useEffect((function(){u.current=l}),[l]),r.a.useEffect((function(){d.current=c}),[c]),r.a.createElement(Oe.a,Object.assign({},o,{onChange:t?function(){m.current&&m.current.apply(m,arguments)}:void 0,onInput:a?function(){i.current&&i.current.apply(i,arguments)}:void 0,onBlur:n?function(){s.current&&s.current.apply(s,arguments)}:void 0,onKeyPress:l?function(){u.current&&u.current.apply(u,arguments)}:void 0,onKeyDown:c?function(){d.current&&d.current.apply(d,arguments)}:void 0}))}var Se=function(e){e.isLoggedIn;var t=Object(n.useState)(!0),a=Object(i.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)([]),s=Object(i.a)(o,2),p=s[0],f=s[1],b=Object(n.useState)(!1),g=Object(i.a)(b,2),h=g[0],v=g[1],y=Object(n.useState)(!1),j=Object(i.a)(y,2),O=(j[0],j[1],Object(n.useState)("")),k=Object(i.a)(O,2);function S(e){v(!h);var t={headers:{Authorization:"Bearer "+E()}},a=e.id;m.a.delete("images/".concat(a,"/"),t).then(function(e){var t=p.filter((function(t){return t.id!==e}));f(t)}(a))}k[0],k[1],Object(n.useEffect)((function(){m.a.get("images/").then((function(e){f(e.data),c(!1),v(!1)}))}),[l,h]);var N=function(e){var t=new FormData,a=e.currentTarget.id;if("width-editable"===e.currentTarget.className){if(""===e.target.value)return;t.append("width",e.target.value)}if("height-editable"===e.currentTarget.className){if(""===e.target.value)return;t.append("height",e.target.value)}m.a.patch("images/".concat(a,"/"),t,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+E()}})};return r.a.createElement("div",null,l?r.a.createElement(u.a,{animation:"grow",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")):r.a.createElement(d.a,null,r.a.createElement($.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Thumb"),r.a.createElement("th",null,"Width"),r.a.createElement("th",null,"Height"),r.a.createElement("th",null,"Delete"))),r.a.createElement("tbody",null,p.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,r.a.createElement(d.a,{xs:"6",md:"2"},r.a.createElement("a",{href:e.src},r.a.createElement(ve.a,{src:e.src,thumbnail:!0})))),r.a.createElement("td",null,r.a.createElement(ke,{html:e.width.toString(),onChange:N,id:e.id,className:"width-editable"})),r.a.createElement("td",null,r.a.createElement(ke,{html:e.height.toString(),onChange:N,id:e.id,className:"height-editable"})),r.a.createElement("td",null,r.a.createElement(_.a,{color:"danger",className:"item-button",onClick:function(){return S(e)},size:"sm"},"Delete")))}))))))},Ne=a(188),we=a.n(Ne);var Ce=function(){var e=Object(n.useState)(!0),t=Object(i.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)({}),o=Object(i.a)(c,2),s=o[0],p=o[1];return Object(n.useEffect)((function(){m.a.get("latestbiog/").then((function(e){p(e.data),l(!1)}))}),[a]),r.a.createElement("div",null,a?r.a.createElement(u.a,{animation:"grow",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")):r.a.createElement("div",null,r.a.createElement(d.a,{xs:"auto"},we()(s.biography))))},_e=a(81),Le=a(189),xe=a(190),De=a.n(xe),Ie=(a(368),function(e){Object(v.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(g.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={editorState:_e.EditorState.createEmpty(),submitted:!1},e.onEditorStateChange=function(t){e.setState({editorState:t})},e.onSubmit=function(t){var a=De()(Object(_e.convertToRaw)(e.state.editorState.getCurrentContent()));m.a.post("biog/",{biography:a},{headers:{"Content-Type":"application/json",Authorization:"Bearer "+E()}}).then(e.setState({submitted:!0}))},e}return Object(h.a)(a,[{key:"render",value:function(){var e=this,t=this.state.editorState;return this.state.submitted?r.a.createElement(s.a,{push:!0,to:{pathname:"/biog"}}):r.a.createElement("div",null,r.a.createElement(d.a,{xs:"10"},r.a.createElement(Le.Editor,{editorState:t,wrapperClassName:"demo-wrapper",editorClassName:"demo-editor",onEditorStateChange:this.onEditorStateChange,toolbar:{options:["inline","blockType","fontSize","fontFamily","list","textAlign","colorPicker","link","remove","history"]}}),r.a.createElement(_.a,{color:"primary",className:"item-button",onClick:function(){return e.onSubmit()}},"Submit")))}}]),a}(n.Component));var Be=function(){var e=Object(n.useState)((function(){return null!==window.localStorage.getItem("jwt-auth")})),t=Object(i.a)(e,2),a=t[0],l=t[1],c=function(){l(!0)};return r.a.createElement("main",null,r.a.createElement(le,{isLoggedIn:a,loggerOuter:function(){window.localStorage.removeItem("jwt-auth"),l(!1)}}),a&&r.a.createElement(pe,null),r.a.createElement(U.a,null,r.a.createElement(d.a,{xs:"12"},r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/",isLoggedIn:a,component:f,exact:!0}),r.a.createElement(s.b,{path:"/biog",isLoggedIn:a,component:Ce,exact:!0}),r.a.createElement(s.b,{path:"/news",render:function(e){return r.a.createElement(R,Object.assign({},e,{isLoggedIn:a}))}}),r.a.createElement(s.b,{path:"/discog",render:function(e){return r.a.createElement(X,Object.assign({},e,{isLoggedIn:a}))}}),r.a.createElement(s.b,{path:"/connect",render:function(e){return r.a.createElement(q,Object.assign({},e,{isLoggedIn:a}))}}),r.a.createElement(s.b,{path:"/images",render:function(e){return r.a.createElement(ge,Object.assign({},e,{isLoggedIn:a}))}}),r.a.createElement(s.b,{path:"/newsupdate",render:function(){return a?r.a.createElement(ce,null):r.a.createElement(s.a,{to:"/"})}}),r.a.createElement(s.b,{path:"/releaseupdate",render:function(){return a?r.a.createElement(oe,null):r.a.createElement(s.a,{to:"/"})}}),r.a.createElement(s.b,{path:"/connectupdate",render:function(){return a?r.a.createElement(Ee,null):r.a.createElement(s.a,{to:"/"})}}),r.a.createElement(s.b,{path:"/homepageupdate",render:function(){return a?r.a.createElement(fe,null):r.a.createElement(s.a,{to:"/"})}}),r.a.createElement(s.b,{path:"/imagesupdate",render:function(){return a?r.a.createElement(he,null):r.a.createElement(s.a,{to:"/"})}}),r.a.createElement(s.b,{path:"/biogupdate",render:function(){return a?r.a.createElement(Ie,null):r.a.createElement(s.a,{to:"/"})}}),r.a.createElement(s.b,{path:"/imagesedit",render:function(){return a?r.a.createElement(Se,null):r.a.createElement(s.a,{to:"/"})}}),r.a.createElement(s.b,{path:"/login",render:function(e){return a?r.a.createElement(s.a,{to:"/"}):r.a.createElement(me,Object.assign({},e,{loggerIn:c}))}}),r.a.createElement(s.b,{component:G})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(369);m.a.defaults.xsrfCookieName="csrftoken",m.a.defaults.xsrfHeaderName="X-CSRFToken",m.a.defaults.baseURL="https://elsmusic.site/api/",c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Q.a,null,r.a.createElement(Be,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},85:function(e,t,a){}},[[192,1,2]]]);
//# sourceMappingURL=main.f92d19c3.chunk.js.map